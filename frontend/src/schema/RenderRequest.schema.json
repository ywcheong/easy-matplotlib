{
  "$defs": {
    "AxesElement": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "plot": {
          "items": {
            "type": "string"
          },
          "title": "Plot",
          "type": "array"
        },
        "style": {
          "$ref": "#/$defs/AxesStyle"
        }
      },
      "required": [
        "name",
        "plot",
        "style"
      ],
      "title": "AxesElement",
      "type": "object"
    },
    "AxesStyle": {
      "additionalProperties": false,
      "properties": {
        "style_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Style Name"
        }
      },
      "required": [
        "style_name"
      ],
      "title": "AxesStyle",
      "type": "object"
    },
    "DataElement": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "value": {
          "items": {
            "type": "number"
          },
          "title": "Value",
          "type": "array"
        }
      },
      "required": [
        "name",
        "value"
      ],
      "title": "DataElement",
      "type": "object"
    },
    "Figure": {
      "additionalProperties": false,
      "properties": {
        "size": {
          "$ref": "#/$defs/FigureSize"
        },
        "axes": {
          "items": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "array"
          },
          "title": "Axes",
          "type": "array"
        },
        "style": {
          "$ref": "#/$defs/FigureStyle"
        }
      },
      "required": [
        "size",
        "axes",
        "style"
      ],
      "title": "Figure",
      "type": "object"
    },
    "FigureSize": {
      "additionalProperties": false,
      "properties": {
        "row": {
          "exclusiveMinimum": 0,
          "title": "Row",
          "type": "integer"
        },
        "column": {
          "exclusiveMinimum": 0,
          "title": "Column",
          "type": "integer"
        }
      },
      "required": [
        "row",
        "column"
      ],
      "title": "FigureSize",
      "type": "object"
    },
    "FigureStyle": {
      "additionalProperties": false,
      "properties": {
        "style_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Style Name"
        },
        "code_indent_style": {
          "anyOf": [
            {
              "enum": [
                "space",
                "tab"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "space",
          "title": "Code Indent Style"
        },
        "code_is_function": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": true,
          "title": "Code Is Function"
        }
      },
      "required": [
        "style_name"
      ],
      "title": "FigureStyle",
      "type": "object"
    },
    "PlotElement": {
      "additionalProperties": false,
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "data": {
          "discriminator": {
            "mapping": {
              "plot": "#/$defs/SimplePlotData"
            },
            "propertyName": "relation"
          },
          "oneOf": [
            {
              "$ref": "#/$defs/SimplePlotData"
            }
          ],
          "title": "Data"
        },
        "style": {
          "$ref": "#/$defs/PlotStyle"
        }
      },
      "required": [
        "name",
        "data",
        "style"
      ],
      "title": "PlotElement",
      "type": "object"
    },
    "PlotStyle": {
      "additionalProperties": false,
      "properties": {
        "style_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Style Name"
        },
        "linestyle": {
          "default": "solid",
          "enum": [
            "solid",
            "dashed",
            "dashdot",
            "dotted",
            "none"
          ],
          "title": "Linestyle",
          "type": "string"
        }
      },
      "required": [
        "style_name"
      ],
      "title": "PlotStyle",
      "type": "object"
    },
    "SimplePlotData": {
      "additionalProperties": false,
      "description": "PlotData for .plot() rendering",
      "properties": {
        "relation": {
          "const": "plot",
          "enum": [
            "plot"
          ],
          "title": "Relation",
          "type": "string"
        },
        "x": {
          "title": "X",
          "type": "string"
        },
        "y": {
          "title": "Y",
          "type": "string"
        }
      },
      "required": [
        "relation",
        "x",
        "y"
      ],
      "title": "SimplePlotData",
      "type": "object"
    }
  },
  "additionalProperties": false,
  "description": "ER Relation\n* Figure.axes <-0..1 / 0..1-> Axes\n* Axes.plot   <-0..N / 0..N-> Plot\n* Plot.data   <-1..1 / 0..N-> Data",
  "properties": {
    "request_id": {
      "format": "uuid",
      "title": "Request Id",
      "type": "string"
    },
    "figure": {
      "$ref": "#/$defs/Figure"
    },
    "axes": {
      "items": {
        "$ref": "#/$defs/AxesElement"
      },
      "title": "Axes",
      "type": "array"
    },
    "plot": {
      "items": {
        "$ref": "#/$defs/PlotElement"
      },
      "title": "Plot",
      "type": "array"
    },
    "data": {
      "items": {
        "$ref": "#/$defs/DataElement"
      },
      "title": "Data",
      "type": "array"
    }
  },
  "required": [
    "request_id",
    "figure",
    "axes",
    "plot",
    "data"
  ],
  "title": "RequestElement",
  "type": "object"
}
